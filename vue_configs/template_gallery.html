<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>图库配置工具</title>
  <link rel="stylesheet" href="http://arkplan.top/npm/vant@4.6.0/lib/index.css" />
  <link rel="stylesheet" href="./css/style.css" />
  <script src="http://arkplan.top/npm/vconsole@3.11.2/dist/vconsole.min.js"></script>
  <script>window.vConsole = new VConsole();</script>
  <script src="http://arkplan.top/npm/vue@3.5.11/dist/vue.global.min.js"></script>
  <script src="http://arkplan.top/npm/vue-router@4.4.5/dist/vue-router.global.min.js"></script>
  <script src="http://arkplan.top/npm/vant@4.6.0/lib/vant.min.js"></script>
  <script src="http://arkplan.top/npm/vue3-sfc-loader/dist/vue3-sfc-loader.js"></script>
  <!-- <script src="https://unpkg.com/vue-router@4.0.15/dist/vue-router.global.js"></script>-->
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
</head>

<body>
  <noscript><strong>We're sorry but this doesn't work properly without JavaScript enabled. Please enable
      it to continue.</strong></noscript>
  <div id="app" class="root-container" :style="'min-height:' + clientHeight + 'px'">

  </div>
</body>
<script type="text/javascript">
  let firstResize = true;

  /**
   * 禁用长按菜单，复制等
   **/
  window.addEventListener('contextmenu', function (e) {
    e.preventDefault();
  });

  window.addEventListener('resize', function (e) {
    console.log('页面高度:' + window.innerHeight);

    if (window.innerHeight > 0 && firstResize) {
      firstResize = false;
      if (window.innerHeight < 209) {
        window.innerHeight = 866;
      }
      console.log('修改root height:' + window.innerHeight);
      document.getElementById('app').style.height = window.innerHeight + 'px';
    }
  }, false);

  // 直接浏览器调试时，mock js bridge方法
  if (typeof $app === 'undefined') {
    window.$app = {
      mock: true,
      invoke: (bridgeName, data, callback) => { },
      receiveMessage: params => { },
      registerFunction: (functionName, func) => { }
    };
    window.$nativeApi = {
      request: (bridgeName, data) => { return Promise.reject({}) }
    };
    setTimeout(() => {
      window.$app.delay_off = true;
    }, 5000);
  }
</script>

<script src="./js/template_gallery/common.js"></script>
<script type="module" src="./js/template_gallery/app.js"></script>

</html>